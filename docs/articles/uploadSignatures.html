<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="SigRepo">
<title>Upload Signatures • SigRepo</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Upload Signatures">
<meta property="og:description" content="SigRepo">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">SigRepo</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Change Log</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/montilab/SigRepo">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Upload Signatures</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/montilab/SigRepo/blob/HEAD/vignettes/uploadSignatures.Rmd" class="external-link"><code>vignettes/uploadSignatures.Rmd</code></a></small>
      <div class="d-none name"><code>uploadSignatures.Rmd</code></div>
    </div>

    
    
<p>If you haven’t installed <code>SigRepoR</code> yet, please contact <a href="mailto:vmli@bu.edu" class="email">vmli@bu.edu</a> for
instruction.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/load_all.html" class="external-link">load_all</a></span><span class="op">(</span><span class="st">"."</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="configuration">Configuration<a class="anchor" aria-label="anchor" href="#configuration"></a>
</h2>
<p>SigRepoR interacts with servers that are(possibly) not on your
current working computer. Therefor, Before proceeding with uploading
signatures, it’s important that you first configure your session to
point to which database to upload to, along with where to write files to
in your file system.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">configureSigRepo</span><span class="op">(</span></span>
<span>    <span class="co"># Where do the OmicSignatures live in the server's fileSystem?</span></span>
<span>    signatureDirectory<span class="op">=</span></span>
<span>        <span class="st">"/opt/shiny-server/challenge_project/miscellanea/signatures/"</span>,</span>
<span>    databaseServer<span class="op">=</span><span class="st">"sigrepo.bu.edu"</span>, <span class="co"># Where's the database?</span></span>
<span>    databasePort<span class="op">=</span><span class="st">"4253"</span>, <span class="co"># What port is the database server using?</span></span>
<span>    applicationPort<span class="op">=</span><span class="st">""</span>,</span>
<span>    signatureServer<span class="op">=</span><span class="st">"sigrepo.bu.edu"</span> <span class="co"># What server has the OmicSignatures?</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Now, for downstream queries, you’ll be able to establish connections
in the future without needing to specify which server to query
repeatedly.</p>
<p>Assuming you already have your OmicSignature object created, let’s
work with uploading.</p>
</div>
<div class="section level2">
<h2 id="uploading-omicsignature-object">Uploading OmicSignature Object<a class="anchor" aria-label="anchor" href="#uploading-omicsignature-object"></a>
</h2>
<p>To upload your object completely to your back-end</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">addSignatureWrapper</span><span class="op">(</span></span>
<span>    <span class="va">yourObjectOrFileOfObject</span>,</span>
<span>    thisHandle<span class="op">=</span><span class="va">yourConnectionHandle</span>,</span>
<span>    uploadPath<span class="op">=</span><span class="fu">sys.getenv</span><span class="op">(</span><span class="st">"signatureDirectory"</span><span class="op">)</span>,</span>
<span>    user<span class="op">=</span><span class="st">"your SigRepo Username"</span>,</span>
<span>    verbose<span class="op">=</span><span class="cn">T</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>executing the above:</p>
<ul>
<li>writes your object file to disk</li>
<li>inserts signature metadata into signatures table in the
database(addSignature)</li>
<li>inserts level2 data from that object into the features_signatures
table in the database(addLevel2).</li>
<li>inserts signature-keyword pairs into the keyword_signatures table in
the database(addSignatureKeywords).</li>
</ul>
</div>
<div class="section level2">
<h2 id="uploading-omicsignaturecollection-objects">Uploading OmicSignatureCollection Objects<a class="anchor" aria-label="anchor" href="#uploading-omicsignaturecollection-objects"></a>
</h2>
<p>OmicSignatureCollection Objects are simply a group of Omic Signature
objects. You can upload such objects like this:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/addSignatureCollection.html">addSignatureCollection</a></span><span class="op">(</span></span>
<span>    <span class="va">OmicSignatureCollectionObj</span>, </span>
<span>    <span class="va">connHandle</span>,</span>
<span>  uploadPath<span class="op">=</span><span class="fu">sys.getenv</span><span class="op">(</span><span class="st">"signatureDirectory"</span><span class="op">)</span>, </span>
<span>  thisUser<span class="op">=</span><span class="st">"your SigRepo User Name"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This function:</p>
<ul>
<li>“unpacks” the OmicSignatureCollection by getting the “OmicSigList”
property</li>
<li>runs an lapply of the function “addSignatureWrapper” on this
list</li>
<li>inserts signature-to-collection pairs into the
signature-to-collection table in the
database(addCollectionSignatures)</li>
</ul>
<p>If the collection you’re uploading doesn’t exist as an entry in the
collections table of the database, the addCollectionSignatures function
will add that collection as a new entry to the collections table before
uploading the pairs.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/RC-88" class="external-link">Reina Chau</a>, Mengze Li, <a href="https://github.com/tetomonti" class="external-link">Stefano Monti</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
