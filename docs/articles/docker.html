<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="SigRepo">
<title>How to run SigRepo Shiny within a Docker Environment • SigRepo</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="How to run SigRepo Shiny within a Docker Environment">
<meta property="og:description" content="SigRepo">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">SigRepo</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-docker-installation">Docker Installation</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-docker-installation">
    <a class="dropdown-item" href="../articles/install-sigrepo_locally.html">Install SigRepo Locally via Docker</a>
    <a class="dropdown-item" href="../articles/install-sigrepo-externally.html">Install SigRepo on the Server via Docker</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-documentation">Documentation</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-documentation">
    <a class="dropdown-item" href="../articles/signature-tutorials.html">Uploading Signature</a>
    <a class="dropdown-item" href="../articles/collection-tutorials.html">Uploading Signature Collection</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Change Log</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/montilab/SigRepo">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>How to run SigRepo Shiny within a Docker Environment</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/montilab/SigRepo/blob/HEAD/vignettes/docker.Rmd" class="external-link"><code>vignettes/docker.Rmd</code></a></small>
      <div class="d-none name"><code>docker.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="software-requirements">Software requirements<a class="anchor" aria-label="anchor" href="#software-requirements"></a>
</h2>
<ul>
<li>Git version &gt;= 2.21</li>
<li>Docker version &gt;= 20.10</li>
</ul>
<p>Don’t have Git installed, see <a href="https://github.com/git-guides/install-git" class="external-link">Git Guides</a></p>
<p>Don’t have Docker installed, download a <a href="https://docs.docker.com/engine/install/" class="external-link">Docker Engine</a> that is
compatible with your machine</p>
<p><strong>NOTE:</strong> may need to restart your computer for Docker
to kicks-in</p>
<ul>
<li>Check if Docker is installed</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">docker</span> <span class="at">--version</span></span></code></pre></div>
<ul>
<li>Check if Docker Compose is installed</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">docker</span> compose version</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="set-up-mysql-database">Set Up Mysql Database<a class="anchor" aria-label="anchor" href="#set-up-mysql-database"></a>
</h2>
<ul>
<li>Explore <a href="">how to set-up SigRepo database and its schema via
Docker</a> for more details</li>
</ul>
</div>
<div class="section level2">
<h2 id="run-sigrepo-shiny-dashboard">Run SigRepo Shiny Dashboard<a class="anchor" aria-label="anchor" href="#run-sigrepo-shiny-dashboard"></a>
</h2>
<ol style="list-style-type: decimal">
<li>Clone this repository and navigate to <strong>SigRepo</strong>
folder</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/montilab/SigRepo</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="bu">cd</span> SigRepo</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Create an <strong>.Renviron</strong> file to store credentials to
log into a remote SigRepo Database</li>
</ol>
<pre class="text"><code><span><span class="va">DBNAME</span> <span class="op">=</span> <span class="st">"database_name"</span></span>
<span><span class="va">HOST</span> <span class="op">=</span> <span class="st">"host_ip_address"</span></span>
<span><span class="va">PORT</span> <span class="op">=</span> <span class="st">"port"</span></span>
<span><span class="va">USER</span> <span class="op">=</span> <span class="st">"username"</span></span>
<span><span class="va">PASSWORD</span> <span class="op">=</span> <span class="st">"password"</span></span></code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Create a <strong>docker-compose-sigrepo-shiny.yml</strong> to
configure how to build Sigrepo Shiny image and container.</li>
</ol>
<pre class="text"><code>services:
  sigrepo-shiny:
    container_name: sigrepo-shiny
    image: sigrepo-shiny:latest
    build:
      context: .
      dockerfile: Dockerfile
      args:
        - R_VERSION=4.4.0
    networks:
      - db-net
    ports:
      - 8050:3838
    restart: always
    volumes:
      - /montilab-p/Sigrepo/.Renviron:/root/.Renviron
    command: tail -f /dev/null </code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Start Sigrepo Shiny containers</li>
</ol>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">docker</span> compose <span class="at">-f</span> docker-compose-sigrepo-shiny.yml up <span class="at">-d</span></span></code></pre></div>
<p><strong><code>-f</code></strong>: name of the docker compose file
<br><strong><code>-d</code></strong>: run container in detached mode
<br></p>
<ol start="5" style="list-style-type: decimal">
<li>Check if the container is built successfully</li>
</ol>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">docker</span> ps</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="ex">CONTAINER</span> ID   IMAGE                  COMMAND                    CREATED        STATUS        PORTS                    NAMES</span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="ex">b37b6b19c4e8</span>   sigrepo-shiny:latest   <span class="st">"/bin/bash -c /user/..."</span>   5 hours ago    Up 5 hours    0.0.0.0:8050-<span class="op">&gt;</span>3838/tcp   sigrepo-shiny</span></code></pre></div>
<p>Based on the output above, the <code>sigrepo-shiny</code> dashboard
is published on port <strong>8050</strong> on the host machine, and
<strong>3838</strong> is the port of where the
<code>sigrepo-shiny</code> is published inside the Docker container.
Noted that all requests that are made to the host machine will be
automatically redirected to the Docker container where the Shiny app is
launched and deployed.</p>
<ol start="6" style="list-style-type: decimal">
<li>Access <code>SigRepo</code> dashboard on your localhost</li>
</ol>
<p>Using your preferred web browser, type in <a href="http://localhost:8050" class="external-link uri">http://localhost:8050</a> and
see if <code>SigRepo</code> dashboard is indeed hosted there.</p>
<p><br></p>
<p>Any questions or issues? Please report them on our <a href="https://github.com/montilab/SigRepo/issues" class="external-link">github issues</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/RC-88" class="external-link">Reina Chau</a>, <a href="https://github.com/Cvicnaire" class="external-link">Cameron Vicnaire</a>, Mengze Li, <a href="https://github.com/tetomonti" class="external-link">Stefano Monti</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
